!function(e){var i,a;i={x:20,y:20},["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","tap","longTap","drag"].forEach(function(t){e.fn[t]=function(){return new a(e(this),t).start(),arguments[1]&&(i=arguments[1]),this.on(t,arguments[0])}}),(a=function(){this.target=arguments[0],this.e=arguments[1]}).prototype.framework=function(t){return t.preventDefault(),t.changedTouches?t.changedTouches[0]:t.originalEvent.touches[0]},a.prototype.start=function(){var n=this;n.target.on("touchstart",function(t){t.preventDefault();var e=n.framework(t),a=new Date;n.ts={x:e.pageX,y:e.pageY,d:a.getTime()}}),n.target.on("touchmove",function(t){t.preventDefault();var e=n.framework(t);new Date;n.tm={x:e.pageX,y:e.pageY},"drag"!=n.e||n.target.trigger(n.e,n.tm)}),n.target.on("touchend",function(t){t.preventDefault();var e=new Date;n.tm||(n.tm=n.ts),n.te={x:n.tm.x-n.ts.x,y:n.tm.y-n.ts.y,d:e-n.ts.d},n.tm=void 0,n.factory()})},a.prototype.factory=function(){var t=Math.abs(this.te.x),e=Math.abs(this.te.y),a=this.te.d,n=this.status;t<5&&e<5?n=a<300?"tap":"longTap":t<i.x&&e>i.y?n=a<250?0<this.te.y?"swipeDown":"swipeUp":"swipe":e<i.y&&t>i.x&&(n=a<250?0<this.te.x?"swipeLeft":"swipeRight":"swipe"),n!=this.e||this.target.trigger(this.e)}}(window.jQuery||window.Zepto);